# 개념정리

- 스팟플릿, 스팟

## Guard Duty 에서 지원하는 데이터 소스

- VPC Flow Logs
- DNS logs
- CloudTrail events
- EKS 감사 로그

## 캐시 모드의 볼륨 게이트웨이(cache mode volume gateway)

- 최신 데이터 하위 세트에 자주 액세스할 수 있도록 하는 스토리지 서비스
-

## AWS Direct Connect

- 인터넷을 사용하여 AWS 에 연결하는 방식의 대안을 제공함
- 온프레미스 데이터 센터와 AWS 간 사설 네트워크 연결을 통해 전달

## AWS Global Accelerator

- AWS 글로벌 네트워에 걸쳐 트레픽을 최적의 엔드포인트로 인도
- 정적 애니캐스트 IP 주소 2개 제공
- 엔드포인트 가중치를 사용하여 어떤 엔드포인트 그룹 안의 엔드포인트들로 향하는 트래픽의 비중을 결정하고 트래픽 다이얼을 이용하여 어떤 엔드포인트 그룹(애플리케이션이 배포된 AWS 리전)으로 향하는 트래픽의 비중을 제어
- 청색/녹색 배포를 위해 DNS 서비스에 의지하는 것이 좋지만, 빠르고 제어된 트래픽 전환을 요구하는 활용 사례에는 적합하지 않을 수 있습니다
- 클라이언트 장치의 DNS 캐싱, 인터넷 리졸버, 트래픽 다이얼과 상관없이 청색 및 녹색 환경 간에 점진적으로 또는 한꺼번에 트래픽을 이전할 수 있으며 엔드포인트 가중치 변경은 몇 초 안에 유효

## AWS GuardDuty

- AWS 계정, 워크로드, Amazon S3에 저장된 데이터를 보호하기 위해 악의적인 활동과 무단 행동을 연속적으로 모니터링하는 위협 탐지 서비스
- AWS CloudTrail 이벤트, Amazon VPC Flow Logs, DNS 로그 같은 다수의 AWS 데이터 소스에 걸쳐 수백억 개의 이벤트를 분석

## API Gateway

- 토큰 버킷 알고리즘으로 throttle

## SQS

- 메시지 대기열 서비스
- 메시지를 잃지 않으며 일시적인 볼륨 폭증을 매끄럽게 해주는 버퍼 역할
- 분산 시스템, 서버리스 디커플링, 스케일링
- SQS FIFO 대기열은 메시지가 전송된 순서대로 정확히 한 번 처리되도록 보장하기 위해 고안
  - FIFO 대기열은 배칭(batching)을 이용하여 초당 최대 3,000개의 메시지를 지원
  - 배칭 없이 초당 최대 300개의 메시지를 지원
  - FIFO 대기열의 이름은 .fifo라는 접미어로 끝나야 함
  - FIFO 대기열의 정렬(ordering) 또는 정확히 한 번(exactly-once) 처리 기능을 이용하고 싶다면 대기열과 애플리케이션을 정확히 구성해야 함
  - 기존의 표준 대기열을 **FIFO 대기열로 변환할 수는 없음**
- 짧은 폴링을 사용하면 쿼리에서 메시지를 찾지 못한 경우에도 Amazon SQS가 즉시 응답을 보냅니다
- 긴 폴링의 경우 Amazon SQS는 요청에 지정된 최대 메시지 수까지 사용 가능한 메시지를 하나 이상 수집한 후 응답을 보냅니다
- 일반 짧은 폴링은 폴링되는 메시지 대기열이 비어 있는 경우에도 즉각 응답을 반환하는 반면, 긴 폴링은 메시지가 메시지 대기열에 도달하거나 긴 폴링 제한 시간이 초과할 때까지 응답을 반환하지 않습니다
- 긴 폴링을 사용하면 빈 응답을 수신하는 횟수를 줄일 수 있으므로 SQS 사용 비용을 절감
- 가시성 제한 시간은 Amazon SQS가 다른 소비 구성 요소가 메시지를 수신 및 처리하지 못하도록 하는 기간입니다
- 기본적으로 FIFO 대기열은 초당 최대 300개의 메시지를 지원합니다(초당 300개의 보내기, 받기 또는 삭제 작업). 작업당 10개의 메시지(최대)를 일괄 처리하는 경우 FIFO 대기열은 초당 최대 3,000개의 메시지를 지원할 수 있습니다

## SNS

- 메시지를 버퍼링할 수 없음

## Amazon Kinesis Data Streams

- 실시간 스트리밍 데이터 버퍼링
- 엄청난 규모로 확장할 수 있는 견고한 서비스
- 초당 수 기가바이트에 이르는 데이터를 연속 수집 가능
- 24시간부터 최대 8760시간 까지의 레코드를 저장
- 한 레코드 내에서 데이터의 최대 크기는 1MB

## S3

- 성능,가용성 변경 없이, 애플리케이션의 지역정 분리도를 희생하지 않고 추가비용 없이 자동으로 강력한 쓰기 후 읽기 일관성을 제공함
- 객ㄱ체를 새로 쓰거나 덮어쓴 다음 이루어지는 읽기 요청은 즉시 객체의 최신 버전을 받게 됨
- 버킷에 저장된 모든 객체에 대해 서버 측 암호화가 필요할 경우 버킷 정책을 사용합니다. 예를 들어 다음 버킷 정책은 요청에 서버 측 암호화를 요청하는 x-amz-server-side-encryption 헤더가 포함되지 않을 경우 객체 업로드 권한을 거부합니다
- 인터넷에서 S3 에 파일을 전송하는 경우, 전송 요금이 없음
- S3TA 가속을 사용하면 가속화된 전송에 대해서만 전송 요금이 발생함
- 객체 잠금 기능은 WORM(Write-Once-Read-Many) 스토리지를 제공하지만 이것이 작동하려면 객체 버전 관리 기능도 활성화해야 합니다
- 실제로 객체 잠금 옵션을 이미 선택한 경우 객체 버전 관리 기능을 수동으로 비활성화할 수 없습니다
- 보관 기간은 정해진 시간 동안 객체 버전을 보호합니다
- 객체 버전에 보존 기간을 명시적으로 적용하는 경우 객체 버전에 대한 보존 종료 날짜를 지정합니다.
- 단일 객체의 다른 버전은 다른 보존 모드와 기간을 가질 수 있습니다.
- 기본적으로 S3 객체는 이를 **업로드한 AWS 계정이 소유**합니다.
- 다른 계정에 의해 버킷에 저장되면 버킷 소유자는 **기본 권한이 없습니다**.
- 교차 계정 권한이 있는 AWS Identity and Access Management(IAM) 역할이 UNLOAD 명령을 다시 실행해야 합니다
-

```
    {
      "Version": "2012-10-17",
      "Id": "PutObjectPolicy",
      "Statement": [
        {
          "Sid": "DenyIncorrectEncryptionHeader",
          "Effect": "Deny",
          "Principal": "*",
          "Action": "s3:PutObject",
          "Resource": "arn:aws:s3:::awsexamplebucket1/*",
          "Condition": {
            "StringNotEquals": {
              "s3:x-amz-server-side-encryption": "AES256"
            }
          }
        },
        {
          "Sid": "DenyUnencryptedObjectUploads",
          "Effect": "Deny",
          "Principal": "*",
          "Action": "s3:PutObject",
          "Resource": "arn:aws:s3:::awsexamplebucket1/*",
          "Condition": {
            "Null": {
              "s3:x-amz-server-side-encryption": "true"
            }
          }
        }
      ]
    }
```

- 암호화 키 관리 방법
  - Amazon S3 관리형 키를 사용한 서버 측 암호화(SSE-S3)
  - AWS Key Management Service에 저장된 KMS 키를 사용한 서버 측 암호화(SSE-KMS)
  - 고객 제공 키를 사용한 서버 측 암호화(SSE-C)

## S3 버킷 정책

- 하나의 버킷에 있는 객체 일부 또는 전부에 걸쳐 권한을 추가하거나 거부
- 정책을 사용자, 그룹 또는 Amazon S3 버킷에 부착하여 권한을 일원화해서 관리
- AWS 계정 또는 다른 AWS 계정에 있는 사용자들에게 여러분의 Amazon S3 리소스에 대한 액세스 권한을 부여
- 구체적인 리소스에 대한 액세스를 더욱 제한

## S3 전송 가속화(Transfer Acceleration)

- S3 버킷 사이에 장거리에 걸쳐 파일들으 빠르게 전송하는 버킷 수준 feature

## S3 Standard IA

- S3 Standard-IA는 자주 액세스하지 않지만 필요할 때 빠르게 액세스해야 하는 데이터에 적합합니다
- 저렴한 비용과 높은 성능의 조합을 제공하는 S3 Standard-IA는 장기 스토리지, 백업 및 재해 복구 파일용 데이터 스토어에 이상적
- 높은 처리량 및 짧은 대기 시간과 일치하며 GB당 스토리지 가격과 GB당 검색 요금이 낮습니다

## S3 One Zone IA

- 최소 보관 기관 30일
- 저비용 / 재생성 가능한 데이터 보관
- 잠시 저장(24시간)할 데이터에는 **부적합(비용 효율적이지 못함)**

## S3 Sync

- 버킷들 간 객체를 복사하기 위해 API 를 사용함
- Sync 는 소스와 타겟 버킷을 나열하여 타깃에 없는 객체를 식별함
- 버전 객체인 경우 현재 버전만 복사함
- ACL 이 모두 삭제되어 복사됨

## Red Shift

- 대규모 데이터셋 저장/분석
- 페타바이트 스케일
- AWS Database Migration Service
- 스펙트럼을 이용하면 Amazon Redshift 테이블에 데이터를 로딩할 필요 없이 Amazon S3 안의 파일에서 구조화/반구조화 데이터를 효율적으로 쿼리하고 검색
- Amazon Redshift Serverless는 데이터 웨어하우스 클러스터를 구성하거나 관리할 필요 없이 페타바이트 규모의 분석을 수초 안에 쉽게 실행하고 빠르게 인사이트를 얻을 수 있습니다. 용량을 자동으로 프로비저닝하고 크기 조정하여 수요가 많고 예측할 수 없는 워크로드에 맞춰 높은 성능을 제공하며, 사용한 리소스에 대해서만 비용을 지불하면 됩니다

## AWS Glue

- 고객 분석 데이터 로딩.
- 추출 변환 로드 서비스
- ETL 데이터 처리

## AWS Cost Explorer

- 리소스 최적화
- 유휴상태, 활용률 낮은 EC2 인스턴스 보고서 확인
- AWS Compute Optimizer 사용하여 인스턴스 유형 권장 사항 확인

## AWS Config 관리규칙

- 공통된 모범 방식을 따르는지평가하는데 사용하는 미리 정의된 사용자 지정 규칙

## AWS EBS

- 암호화된 EBS 볼륨 생성시 저장된 데이터, 이동하는 데이터, 스냅샷, 스냅샷으로 생성된 볼륨 모두 암호화
- KMS 암호화 키 사용
  - EBS 볼륨은 **AWS KMS를 통해서만 암호화**됩니다. 서버 측 암호화(SSE)는 실제로 Amazon S3의 옵션이지만 Amazon EC2의 옵션은 아닙니다.
- 범용 SSD 볼륨 : 범용 SSD(gp2 및 gp3) 볼륨은 SSD(Solid-State Drive)로 지원됩니다. 다양한 트랜잭션 워크로드를 위한 가격과 성능의 균형을 유지합니다.
  - 범용 SSD(gp2) 볼륨은 광범위한 워크로드에 이상적인 비용 효율적인 스토리지를 제공합니다. 이러한 볼륨은 한 자릿수 밀리초의 대기 시간과 확장된 기간 동안 3,000 IOPS로 버스트하는 기능을 제공합니다. 최소 100IOPS(33.33GiB 이하)에서 최대 16,000IOPS(5,334GiB 이상) 사이에서 기준 성능은 볼륨 크기 GiB당 3IOPS로 선형 확장됩니다. AWS는 99% 가동 시간의 프로비저닝된 성능을 제공하도록 gp2 볼륨을 설계합니다. gp2 볼륨의 크기 범위는 1GiB에서 16TiB입니다
- Provisioned IOPS SSD 볼륨 : 프로비저닝된 IOPS SSD 볼륨은 SSD(Solid-State Drive)로 지원됩니다. 짧은 지연 시간이 필요한 중요하고 IOPS 집약적이며 처리량 집약적 워크로드를 위해 설계된 최고 성능의 Amazon EBS 스토리지 볼륨입니다.
- EBS 볼륨은 모든 가용 영역의 모든 EC2 인스턴스에 연결할 수 **없습니다**.
- EBS 볼륨은 프로덕션 중에 라이브 구성 변경을 지원하므로 **서비스 중단 없이 볼륨 유형, 볼륨 크기 및 IOPS 용량을 수정할 수 있습니다**

## EC2 전용 호스트

- EC2 인스턴스를 전용 물리 서버에서 실행할 수 있음
- 어떻게 배치되어있는지 눈으로 확인하고 통제할 수 있음
- 오랬동안 동일한 물리 서버를 안정적으로 사용할 수 있음
- Windows Server 같은 서버에 연계된 기존 소프트웨어 라이선스를 사용하고 기업의 규정 준수 및 규제 요건을 충족할 수 있음

## EC2 전용 인스턴스

- 전용 인스턴스는 단일 고객 전용인 하드웨어의 VPC에서 실행되는 Amazon EC2 인스턴스입니다. 여러분의 전용 인스턴스는 다른 AWS 계정에 속하는 인스턴스로부터 호스트 하드웨어 수준에서 물리적으로 분리되어 있습니다. 전용 인스턴스는 전용 인스턴스가 아닌 동일한 AWS 계정의 다른 인스턴스와 하드웨어를 공유할 수도 있습니다. 전용 인스턴스는 기존의 서버와 연계된 소프트웨어 라이선스에 사용할 수 없습니다.

## EC2 최대 절전 모드

- 최대 절전 모드는 인스턴스 메모리(RAM)의 내용을 Amazon Elastic Block Store(Amazon EBS) 루트 볼륨에 저장
  - EBS 루트 볼륨이 이전 상태로 복원됩니다
  - RAM 내용이 다시 로드됩니다
  - 이전에 인스턴스에서 실행되었던 프로세스가 재개됩니다.
  - 이전에 연결된 데이터 볼륨이 다시 연결되고, 인스턴스는 해당 인스턴스 ID를 유지합니다.
  - 인스턴스가 시작되고 난 이후에는 최대 절전 모드를 활성화 하거나 비활성화할 수 없습니다.

## 손상된 EC2

- 복구된 인스턴스는 인스턴스 ID, 프라이빗 IP 주소, 탄력적 IP 주소 및 모든 인스턴스 메타데이터를 포함하여 원본 인스턴스와 동일
- 손상된 인스턴스에 퍼블릭 IPv4 주소가 있는 경우 복구 후에도 인스턴스에서 해당 퍼블릭 IPv4 주소를 유지
- 인스턴스 복구 중에 인스턴스를 재부팅할 때 인스턴스가 마이그레이션되고 메모리의 모든 데이터가 손실

## EC2 용량 예약

- 특정 가용 영역의 Amazon EC2 인스턴스에 대해 원하는 기간만큼 컴퓨팅 용량을 예약할 수 있습니다
- 용량 예약이 프로비저닝되는 즉시 결제가 시작됩니다. 더는 필요하지 않은 경우 용량 예약을 취소하면 용량이 해제되고 요금 발생이 중지됩니다
- 용량 예약을 생성할 때 다음을 지정합니다.
  - 용량을 예약할 가용 영역
  - 용량을 예약할 인스턴스 수
  - 인스턴스 유형, 테넌시, platform/OS 등을 포함한 인스턴스 속성
- 용량 예약는 해당 속성과 일치하는 인스턴스에서만 사용할 수 있습니다.
- 기본적으로 속성과 일치하는 인스턴스를 실행하면 용량 예약이 자동으로 사용됩니다. 용량 예약의 속성과 일치하는 인스턴스를 실행하고 있지 않으면 속성과 일치하는 인스턴스를 시작할 때까지 사용되지 않은 상태로 유지됩니다.

## Auto Scaling Group (ASG)

- 자동 크기 조정 및 관리를 위해 논리적 그룹으로 취급되는 EC2 인스턴스 모음이 포함
- 상태 검사 교체 및 크기 조정 정책과 같은 Amazon EC2 Auto Scaling 기능도 사용
- 대상 추적 조정(Target tracking scaling) -Amazon CloudWatch 지표와 목표 값을 기준으로 그룹의 현재 용량을 늘리거나 줄입니다. 이는 온도 조절기가 집안 온도를 유지하는 방식과 비슷하게 작동
  - 대상 추적을 사용하면 오토 스케일링 그룹이 애플리케이션의 실제 부하에 정비례하여 조정
- 단계 조정(Step scaling) - 그룹의 현재 용량을 일련의 조정 조절에 따라 늘리고 줄이며 경보 위반의 크기에 따라 달라지는 단계 조절
- 단순 조정(Simple scaling) - 단일 조정 설정에 따라 그룹의 현재 용량을 늘리고 줄입니다. 각 조정 작업 간에는 휴지 기간이 발생
- 단계 조정은 경보 위반의 크기에 따라 조정을 변경하기 위해 여러 조치를 설정할 수 있음을 의미하는 "단계 조정"을 적용합니다. 단계 조정 정책을 생성할 때 새로 시작한 인스턴스가 워밍업되는 데 걸리는 시간(초)도 지정할 수 있습니다.
- InService 상태의 인스턴스를 Standby 상태로 설정하고, 인스턴스를 업데이트하거나 문제 해결한 다음, 해당 인스턴스를 서비스 상태로 되돌릴 수 있습니다. 대기 상태의 인스턴스는 오토 스케일링에 여전히 속하나, 로드 밸런서 트래픽을 처리하지는 못합니다.
- 휴지 기간은 이전 조정 활동이 적용되기 전에 추가 인스턴스를 시작하거나 종료하지 않도록 하는 Auto Scaling 그룹에 대해 구성 가능한 설정입니다. Auto Scaling 그룹은 간단한 조정 정책을 사용하여 동적으로 조정한 후 조정 활동을 재개하기 전에 휴지 기간이 완료될 때까지 기다립니다.

## AWS Cloudwatch 경보(alarm) 액션

- EC2 인스턴스를 자동으로 정지, 종료, 재부팅 또는 복구하는 알람 설정할 수 있음
-

## IPsec VPN / Site to Site VPN

- 고객 네트워크와 AWS VPC 간 인터넷을 통해 연결
- 고객 개이트웨이 : 고갹 게이트웨이 장치에 관한 정보를 AWS 에 제공하는 AWS 리소스
- 고객 게이트웨이 장치 : 사이트 간 VPN 연결의 고객 측에 있는 물리적 장치 또는 소프트웨어 애플리케이션

## 시작 템플릿

- 시작 템플릿은 Amazon Machine Image(AMI)의 ID, 인스턴스 타입, 키 쌍, 보안 그룹 그리고 EC2 인스턴스를 시작하기 위해 사용하는 다른 파라미터 같은 인스턴스 구성 정보를 지정
- 시작 템플릿은 다수의 템플릿 버전을 가질 수 있음
- 스팟 인스턴스, 온디멘드 인스턴스 모두 사용 가능함

## 스팟 플릿 (Spot fleet)

- 사용자가 지정한 기준에 따라 시작되는 스팟 인스턴스의 집합이며 선택적으로 온디맨드 인스턴스 집합입니다.
- 사용자의 요구 사항을 충족하는 스팟 용량 풀을 선택하고 플릿에 대한 목표 용량을 충족하는 스팟 인스턴스를 시작합니다.
- 스팟 집합은 플릿에서 스팟 인스턴스가 종료된 후 교체 인스턴스를 시작하여 목표 용량을 유지하도록 설정되어 있습니다.
- 인스턴스가 종료된 후에는 유지되지 않는 일회성 요청으로 제출할 수도 있습니다.
- 스팟 플릿 요청에 온디맨드 인스턴스 요청을 포함할 수 있습니다.

## 시작 구성

- 오토 스케일링 그룹이 EC2 인스턴스를 실행하는 데 사용하는 인스턴스 구성
- 온디맨드 인스턴스와 스폿 인스턴스를 모두 사용하여 다수의 인스턴스 타입에 걸쳐 용량을 프로비저닝하기 위해 시작 구성을 **사용할 수 없음**

## Oracle 용 RDS

- 관계형 데이터베이스의 설정, 운영, 스케일링을 쉽게 만들어주는 매니지드 서비스
- RDS를 이용하여 데이터베이스의 호스트 OS에 액세스할 수는 없습니다
- 데이터베이스 서버 호스트와 운영체계에 액세스하고 맞춤화할 수 있게 하려면 **RDS Custom for Oracle**을 사용해야 함

## Amazon RDS

- SSL 인증서를 생성하고 인스턴스가 프로비저닝될 때 해당 인증서를 DB 인스턴스에 설치
- MySQL의 경우, --ssl_ca 파라미터를 사용하여 MySQL 클라이언트를 실행하여 공용 키를 참조해서 연결을 암호화
- PostgreSQL DB 인스턴스에 대한 모든 연결이 SSL을 사용하도록 강제할 수도 있음
- 향상된 모니터링 사용 가능 - CloudWatch는 DB 인스턴스의 하이퍼바이저에서 CPU 사용률에 대한 지표를 수집하고 Enhanced Monitoring은 인스턴스의 에이전트에서 지표를 수집
  - OS 프로세스
  - RDS 하위 프로세스

## Amazon RDS Global Database

- 글로벌 데이터베이스는 전 세계에 배포되는 애플리케이션을 위해 설계
- 다수의 AWS 리전에 배포
- 성능에 영향을 미치지 않고 데이터를 복제하고 각 리전에서 낮은 레이턴시로 빠른 로컬 읽기를 구현
- 리전 전체에 정전이 발생할 경우 재해 복구를 제공

### ElastiCache for Redis

- 인터넷 스케일의 실시간 애플리케이션에 밀리 초 미만의 레이턴시를 제공하는 번개처럼 빠른 인메모리 데이터 스토어
- 챗/메시징, 게이밍 리더보드, 지리공간, 머신러닝, 미디어 스트리밍, 대기열, 실시간 분석기, 세션 스토어 등 실시간 트랜잭션 및 분석 프로세싱 활용 사례에 아주 적합
- HIPAA를 준수
- ElastiCache는 **IAM Auth를 지원하지 않음**

### ElastiCache for Memcached

- 인메모리 키-값 스토어 서비스
- 관계형 또는 NoSQL 데이터베이스의 부하를 줄여주기 위한 인메모리 캐시를 구현할 수 있음
- HIPAA를 준수

## 클러스터(cluster) 배치 그룹

- 하나의 가용 영역 안에서 인스턴스들을 논리적으로 그룹화
- 동일한 리전(Region)에서 유사한(peered) VPC들 간에 걸쳐 있을 수 있음
- 10Gbps 높은 처리한도, 낮은 레이턴시

## 분산(spread) 배치 그룹

- 구분되는 랙에 배치된 인스턴스 그룹으로서, 각각의 랙에는 고유한 네트워크 및 전원
- 상호 연관에 따른 실패를 줄이기 위해, 구분되는 기본 하드웨어에 인스턴스들을 엄격하게 배치
- 그룹 및 가용 영역(AZ) 당 최대 7개

## DynamoDB

- DynamoDB Accelerator (DAX) : 초당 수백만 건의 요청에서도 밀리 초부터 마이크로 초로 최대 10배의 성능 개선을 제공하는 Amazon DynamoDB를 위한 완벽히 관리되는 높은 가용성의 인메모리 캐시
- 테이블의 프로비저닝된 처리량의 최적 사용량은 개별 항목의 워크로드 패턴과 파티션 키 설계가 결정합니다
- 고유 파티션 키 값이 많을 수록 요청이 여러 파티션 공간으로 더 많이 분산된다
- 일반적으로 총 파티션 키 값에 액세스한 파티션 키 값의 비율이 증가할수록 처리량을 보다 효율적으로 활용할 수 있습니다
- 기본적으로 Auto Scaling은 AWS CLI를 사용하여 생성된 DynamoDB 테이블에서 **활성화되지 않습니다**

## Snowball Edge Storage Optimized

- 수 테라바이트 내지 페타바이트급의 데이터를 AWS로 안전하고 빠르게 전송
- 최대 사용 가능한 HDD 저장소 80TB, vCPU 40개, SATA SSD 저장소 1TB를 제공
- Snowball Edge 장치에 저장된 데이터는 S3 버킷에 복사할 수 있고, 나중에 라이프사이클 정책을 통해 AWS Glacier로 이전할 수 있음
- 데이터를 직접 **AWS Glacier 로 복사할 수 없음**

## AWS Database Migration Service

- 지원되는 소스의 데이터를 관계형 데이터베이스, 데이터 웨어하우스, 스트리밍 플랫폼, 기타 AWS 클라우드의 데이터 스토어로 매끄럽게 마이그레이션
- 기존의 애플리케이션을 확장하여 Amazon S3로부터 Amazon Kinesis Data Streams로 데이터를 스트리밍하여 실시간 분석기에 활용
- AWS DMS는 Amazon S3를 소스로, Kinesis를 타깃으로 지원

## Amazon Neptune

- 긴밀히 연결된 데이터셋들을 이용하는 애플리케이션을 쉽게 구축하고 실행할 수 있게 해주며 완벽히 관리되는 빠르고 안정적인 그래프 데이터베이스
- 읽기 전용 레플리카(read replicas), PITR(Point-In-Time Recovery), Amazon S3에 대한 연속적인 백업, 가용 영역 간 복제 등 가용성
- 많은 양의 사용자 프로필 세트와 상호작용을 빠르게 쉽게 처리하여 소셜 네트워킹 애플리케이션을 구축

## 전송 게이트웨이(Transit Gateway)

- 가상 사설 클라우드(VPC)와 온프레미스 네트워크를 상호 연결할 수 있는 네트워크 트랜짓 허브
- AWS Transit Gateway를 사용하면 여러 VPN 터널에 대한 ECMP(동일 비용 다중 경로) 라우팅 지원으로 **IPsec VPN 처리량을 확장**할 수 있습니다
- 단일 VPN 터널의 최대 처리량은 여전히 ​​1.25Gbps입니다. ECMP 지원 전송 게이트웨이에 대해 여러 VPN 터널을 설정하는 경우 기본 최대 제한인 1.25Gbps 이상으로 확장할 수 있습니다.
- 비용 효율적이지 않음

## AWS DataSync

- 온프레미스 스토리지 시스템과 AWS 스토리지 서비스 간, 또한 AWS 스토리지 서비스 간 대량의 데이터 복사를 단순화하고 자동화하며 가속화하는 온라인 데이터 전송 서비스
- 온프레미스, 엣지, 또는 다른 클라우드에 있는 데이터를 Amazon S3, Amazon EFS, Amazon FSx for Windows File Server, Amazon FSx for Lustre, Amazon FSx for OpenZFS, Amazon FSx for NetApp ONTAP으로 마이그레이션할 수 있음
- Amazon EBS 볼륨에서 작동하지 않습니다
- S3 Glacier Deep Archive 로 직접 전송할 수 있습니다.

## VPC

- 허용되는 블록 크기는 /16 (65,536 IP) ~ /28 (16 IP)
- 생성하는 모든 서브넷은 VPC 의 기본 라우팅 테이블과 자동으로 연결됩니다.

## VPC 공유

- 다수의 AWS 계정이 EC2 인스턴스, RDS 데이터베이스, Redshift 클러스터, 람다 함수 같은 애플리케이션 리소스를 공유되고 일원적으로 관리되는 Amazon 가상 사설 클라우드(VPC)로 만들 수 있음
- VPC를 소유한 계정(오너)은 AWS 조직의 동일한 조직에 속한 다른 계정(참여자)과 하나 이상의 서브넷을 공유
- 서브넷이 공유된 후에 참여자는 공유된 서브넷에서 자신들의 애플리케이션 리소스를 열람, 생성, 변경, 삭제할 수 있음
- 높은 수준의 상호연결성을 요구하고 동일한 신뢰성 경계 안에 있는 애플리케이션들을 위해 VPC 안의 암묵적 라우팅(implicit routing)을 활용

## VPC 콘솔 마법사는 네가지 구성을 제공함

- 단일한 퍼블릭 서브넷이 있는 VPN - 이 시나리오를 위한 이 구성에는 단일한 퍼블릭 서브넷이 있는 가상 사설 클라우드(VPC)와 인터넷을 통한 통신을 실현하는 인터넷 게이트웨이가 포함됩니다. 블로그나 단순한 웹사이트 같은 싱글 티어 일반용 웹 애플리케이션을 실행해야 할 경우에 이러한 구성을 권장합니다.
- 퍼블릭 및 프라이빗 서브넷이 있는 VPC(NAT) - 이 시나리오를 위한 이 구성에는 퍼블릭 서브넷 하나와 프라이빗 서브넷 하나가 있는 가상 사설 클라우드(VPC)가 포함됩니다. 공개적으로 액세스할 수 없는 백엔드 서버를 유지하는 한편 일반용 웹 애플리케이션을 실행하려는 경우에는 이 시나리오를 권장합니다. 일반적인 예에는 퍼블릭 서브넷에 웹 서버가 있고 프라이빗 서브넷에 데이터베이스 서버가 있는 멀티 티어 웹사이트가 있습니다. 여러분은 보안과 라우팅을 설정하여 웹 서버가 데이터베이스 서버와 통신할 수 있도록 할 수 있습니다.
- 퍼블릭 및 프라이빗 서브넷이 있는 VPC와 AWS Site-to-Site VPN 액세스 - 이러한 시나리오를 위한 구성에는 퍼블릭 서브넷과 프라이빗 서브넷, 그리고 IPsec VPN 터널을 통해 여러분의 네트워크와의 통신을 실현하는 가상 프라이빗 게이트웨이가 있는 가상 프라이빗 클라우드(VPC)가 포함되어 있습니다. 여러분의 네트워크를 클라우드로 확장하고 또한 여러분의 VPC에서 직접 인터넷에 액세스하려는 경우에 이러한 시나리오를 권장합니다. 이 시나리오를 이용하면 퍼블릭 서브넷에 있는 스케일링 가능한 웹 프론트엔드가 있는 멀티 티어 애플리케이션을 실행하고, IPsec AWS 사이트 간 VPN 연결을 통해 여러분의 네트워크와 연결된 프라이빗 서브넷에 여러분의 데이터를 저장할 수 있습니다.
- 프라이빗 서브넷만 있고 AWS 사이트 간 VPN 액세스가 있는 VPC - 이러한 시나리오를 위한 구성에는 하나의 프라이빗 서브넷, 그리고 IPsec VPN 터널을 통해 여러분의 네트워크와의 통신을 실현하는 가상 사설 게이트웨이가 있는 가상 사설 클라우드(VPC)가 포함되어 있습니다. 인터넷을 통한 통신을 실현하는 인터넷 게이트웨이는 없습니다. 여러분의 네트워크를 인터넷에 노출시키지 않고 Amazon의 인프라를 이용하여 여러분의 네트워크를 클라우드로 확장하려는 경우에 이러한 시나리오를 권장합니다.

## VPC Endpoint

- VPC 엔드포인트는 리전별로만 다르며 **리전 간 통신을 지원하지 않습니다**

## Gateway Endpoint

- 게이트웨이 엔드포인트는 라우팅 테이블의 경로에 대한 대상인 게이트웨이로, Amazon S3 또는 DynamoDB로 전달되는 트래픽에 사용됩니다.
- 두 가지 유형의 VPC 엔드포인트, 즉 게이트웨이 엔드포인트와 인터페이스 엔드포인트(AWS PrivateLink 사용)를 사용하여 Amazon S3에 액세스할 수 있습니다
- 게이트웨이 엔드포인트는 AWS 네트워크를 통해 VPC에서 Amazon S3에 액세스하기 위해 라우팅 테이블에 지정하는 게이트웨이입니다

## AWS FSx for Lustre

- 세계에서 가장 유명한 고성능 파일 시스템을 쉽고 경제적으로 시작하고 실행
- 머신러닝, 고성능 컴퓨팅(HPC), 비디오 프로세싱, 재무 모델링 등의 워크로드에 사용
- 오픈소스 Lustre 파일 시스템은 스토리지가 연산 속도와 보조를 맞추는 빠른 스토리지를 요구하는 애플리케이션을 위해 설계
- ‘핫 데이터(hot data)’를 병렬로, 그리고 분산식으로 모두 처리할 능력을 제공할 뿐만 아니라 ‘콜드 데이터’를 간단히 Amazon S3에 저장할 능력도 제공

## AWS Macie

- 머신러닝과 패턴 매칭을 사용하여 Amazon S3에 있는 여러분의 민감한 데이터를 발견하고 보호하는 완전 관리형 서비스
- 이름, 주소, 신용카드 번호 등의 개인식별가능정보(PII) 등 점점 늘어가는 민감한 데이터 유형 목록을 자동으로 감지

## VPC CloudHub

- AWS VPN CloudHub를 이용하여 사이트 간에 보안 통신을 제공
- VPN 에 대한 AWS Direct Connect 연결을 사용하는 사이트들도 AWS VPN CloudHub의 일부가 될 수 있음
- VPN CloudHub는 VPC와 함께, 또는 VPC 없이 사용할 수 있는 단순한 허브 앤 스포크(hub-and-spoke) 모델로 작동
- 다수의 지점 사무실과 기존 인터넷 연결이 있고 그러한 원격 사무실들 간에 기본 또는 보조 연결성을 위해 편리하고 비용도 절약할 수 있는 허브 앤 스포크 모델을 구현하려고 한다면 이러한 설계가 적절

## AWS WAF

- 가용성에 영향을 주거나, 보안을 위협하거나, 리소스를 과도하게 사용하는 일반적인 웹 공격으로부터 웹 애플리케이션이나 API를 보호하는 데 도움이 되는 웹 애플리케이션 방화벽
- SQL 주입 또는 사이트 간 스크립팅과 같은 일반적인 공격 패턴을 차단하는 보안 규칙 및 사용자가 정의한 특정 트래픽 패턴을 필터링하는 규칙을 생성하도록 지원하여 애플리케이션에 트래픽이 도달하는 방법을 제어
- OWASP Top 10 보안 위험 및 과도한 리소스를 소비하거나 메트릭을 왜곡하거나 다운타임을 유발할 수 있는 자동화된 봇과 같은 문제를 신속하게 해결
- cloudfront, ALB, API Gateway, AppSync 에 AWS WAF 배포 가능
- 비율 기반 규칙은 각 발신 IP 주소에 대한 요청 비율을 추적하고 제한을 초과하는 비율의 IP에 대해 규칙 작업을 트리거합니다
  - 제한을 5분 시간 범위당 요청 수로 설정합니다. 이 유형의 규칙을 사용하여 과도한 요청을 전송하는 IP 주소의 요청에 임시 차단을 적용할 수 있습니다
- AWS WAF 웹 ACL을 사용할 수 있습니다
  - 일반 규칙
  - 비율 기반 규칙 : 웹 속도 제한

## cloudfront

- 고가용성을 필요로 하는 시나리오에 대한 오리진 장애 조치를 사용하여 이제 CloudFront를 설정할 수 있습니다.
- 2개의 오리진(기본 오리진 및 보조 오리진)이 포함된 오리진 그룹을 만듭니다. 기본 오리진을 사용할 수 없거나 실패를 나타내는 특정 HTTP 응답 상태 코드를 반환하는 경우 CloudFront는 자동으로 보조 오리진으로 전환합니다.
- 서명된 URL 및 서명된 쿠키는 기본 기능이 같습니다. 바로 콘텐츠에 액세스할 수 있는 대상을 제어하는 기능입니다
- 다음과 같은 경우 서명된 URL을 사용합니다.

  1. 애플리케이션 설치 파일을 다운로드하는 등 개별 파일에 대한 액세스를 제한하고 싶은 경우
  2. 사용자가 쿠키를 지원하지 않는 클라이언트(예: 사용자 지정 HTTP 클라이언트)를 사용하는 경우

- 다음과 같은 경우 서명된 쿠키를 사용합니다.
  1. HLS 형식의 비디오 파일 전체 또는 웹 사이트의 구독자 영역에 있는 파일 전체 등 제한된 파일 여러 개에 대한 액세스 권한을 제공하려는 경우
  2. 현재의 URL을 변경하고 싶지 않은 경우

## AWS Lambda

- Lambda 함수는 처리하는 이벤트 수에 따라 자동으로 확장
- ambda 함수가 VPC에 액세스하는 경우 VPC에 Lambda 함수의 확장 요구 사항을 지원하기에 충분한 ENI 용량이 있는지 확인해야 합니다
- Lambda 함수 구성의 각 가용 영역에 하나 이상의 서브넷을 지정하는 것이 좋습니다.
- IP 주소가 부족한 경우 **다른 가용 영역에서 Lambda 함수를 실행**할 수 있습니다
- VPC에 ENI 또는 **서브넷 IP가 충분하지 않은 경우 Lambda 함수는 요청 증가에 따라 확장되지 않으며 EC2ThrottledException과 같은 EC2 오류 유형으로 호출 오류**가 증가하는 것을 보게 됩니다

## AWS Backup

- 데이터 보호를 자동화하고 중앙화할 수 있는 완전관리형 솔루션
- 중앙에서 데이터 보호(백업) 정책을 배포하여 조직의 AWS 계정 및 리소스 전반에 걸쳐 백업 활동을 구성, 관리, 제어할 수 있습니다
- AWS Backup을 사용하여 보존 기간이 90일인 백업 계획을 생성할 수 있습니다

## IAM

- IAM 서비스는 역할 신뢰 정책이라고 하는 리소스 기반 정책 유형 하나만 지원
- IAM 권한 경계는 IAM 그룹이 아닌 **역할이나 사용자에게만 적용**할 수 있습니다.
- 두 리전에 **각 리전에 대해 중복 IAM 역할이 필요하지 않습니다**. 두 리전의 인스턴스에는 하나의 IAM 역할이면 충분합니다.

## AWS Organizations 서비스 제어 정책(SCP)

- 조직의 권한을 관리하는 데 사용할 수 있는 조직 정책 유형
- SCP는 조직 또는 OU(조직 구성 단위)에 대한 최대 권한을 지정하는 JSON 정책
- 조직의 모든 계정에 사용 가능한 최대 권한을 중앙에서 제어
- SCP는 어떠한 권한도 부여하지 않습니다. SCP는 계정 관리자가 영향을 받는 계정의 IAM 사용자 및 역할에 위임할 수 있는 작업에 대해 권한 범위를 정의하거나 제한을 설정합니다
- SCP는 조직에 속한 계정이 관리하는 IAM 사용자 및 역할에만 영향을 줍니다. SCP는 리소스 기반 정책에 직접 영향을 주지 않습니다
- SCP는 어떠한 서비스 연결 역할에도 영향을 미치지 않습니다. 서비스 연결 역할은 다른 AWS 서비스에서 AWS Organizations와 통합하도록 활성화하며 SCP로 제한할 수 없습니다

## AWS Shield Advanced

- 속도 기반 규칙이 있는 웹 ACL을 추가할 수 있음
- DDoS 이벤트를 나타낼 수 있는 트래픽의 갑작스러운 급증에 대해 경고할 수 있습니다
- 비율 기반 규칙은 5분 동안 모든 개별 주소에서 도착하는 요청을 계산합니다
- 요청 수가 정의한 제한을 초과하면 규칙이 알림 보내기와 같은 작업을 트리거할 수 있습니다

## AWS FSx for Windows

- Windows 파일 시스템이 지원하는 완전 관리형 Windows 파일 서버
- 엔터프라이즈 애플리케이션을 AWS 클라우드로 쉽게 리프트 앤 시프트할 수 있는 기능, 성능 및 호환성을 갖추고 있습니다
- 파일 스토리지에 액세스하기 위한 업계 표준 SMB(서버 메시지 블록) 프로토콜을 기본적으로 지원합니다

## Data Lifecycle Manager (DLM)

- EBS 스냅샷 및 EBS-backed AMI의 생성, 보존 및 삭제를 자동화할 수 있습니다
  - 정기적인 백업 일정을 실행하여 중요한 데이터를 보호합니다.
  - 정기적으로 새로 고칠 수 있는 표준화된 AMI를 생성합니다.
  - 감사 기관이나 내부 규정 준수 부서에서 요구하는 백업을 보관합니다.
  - 오래된 백업을 삭제하여 스토리지 비용을 절감합니다.
  - 격리된 계정에 데이터를 백업하는 재해 복구 백업 정책을 생성합니다.

## AWS Storage Gateway

- 거의 무제한의 클라우드 스토리지에 대한 온프레미스 액세스를 제공하는 하이브리드 클라우드 스토리지 서비스
- 온프레미스 애플리케이션을 클라우드 스토리지에 원활하게 연결하고 지연 시간이 짧은 액세스를 위해 로컬로 데이터를 캐싱하는 세 가지 유형의 게이트웨이(테이프 게이트웨이, 파일 게이트웨이 및 볼륨 게이트웨이)를 제공
- 표준 파일 스토리지 프로토콜(SMB 또는 NFS)을 통해 객체를 저장하고 검색할 수 있습니다

## Tape gateway

- Amazon Glacier에서 비용 효율적이고 내구성 있는 아카이브 백업 데이터를 제공
- 몇 분 안에 즉시 검색할 수 있어야 한다는 요구사항을 충족할 수 없습니다.

## AWS EventBridge

- SaaS 애플리케이션 및/또는 AWS 서비스의 이벤트에 반응하는 애플리케이션을 구축하려는 경우에 권장
- Amazon EventBridge는 타사 SaaS 파트너와 직접 통합되는 유일한 이벤트 기반 서비스

## Trusted Advisor

- AWS 모범 사례에 따라 리소스를 프로비저닝하는 데 도움이 되는 실시간 지침을 제공하는 온라인 도구입니다
- Trusted Advisor는 재사용 가능한 인프라 템플릿을 생성하는 대신 **권장 사항만 제공**

## 인스턴스 스토어 (Instance Store)

- 블록 수준의 임시 스토리지를 제공
- 인스턴스 스토어는 버퍼, 캐시, scratch 데이터 및 기타 임시 콘텐츠와 같이 자주 변경되는 정보의 임시 스토리지나 로드가 분산된 웹 서버 풀과 같은 여러 인스턴스상에서 복제되는 데이터에 가장 적합
- 실행 시에만 인스턴스에 대한 인스턴스 스토어 볼륨을 지정할 수 있습니다. 하나의 인스턴스에서 인스턴스 스토어 볼륨을 분리하고 다른 인스턴스에 연결할 수 없습니다.
- 인스턴스의 수명 기간 동안만 지속됩니다. 인스턴스가 재부팅(의도적 또는 의도적이지 않게)되면 인스턴스 스토어의 데이터는 유지
  - 기본 디스크 드라이브 오류
  - 인스턴스가 중지됨
  - 인스턴스가 최대 절전 모드로 전환됨
  - 인스턴스가 종료됨
- 장기 데이터의 경우 인스턴스 스토어에 의존하지 마세요
- 인스턴스를 중지하거나 최대 절전 모드로 전환하거나 종료하면 인스턴스 스토어의 모든 스토리지 블록이 리셋
- RAID 0 어레이를 생성하면 단일 Amazon EBS 볼륨에서 프로비저닝할 때보다 파일 시스템의 성능이 더 향상됩니다. I/O 성능이 무엇보다 중요할 경우 RAID 0를 사용하십시오. RAID 0를 사용할 경우 I/O가 스트라이프의 볼륨에 분산됩니다. 볼륨을 추가하면 처리량 및 IOPS도 그에 따라 바로 추가됩니다. 그러나 스트라이프의 성능은 세트에서 성능이 가장 낮은 볼륨의 성능으로 제한되며 세트에서 단일 볼륨이 손실되면 어레이의 데이터가 완전히 손실됩니다.
- RAID 5 및 RAID 6는 이 RAID 모드의 패리티 쓰기 작업에서 볼륨에 사용 가능한 IOPS의 일부를 사용하기 때문에 Amazon EBS에 권장되지 않습니다. RAID 어레이의 구성에 따라 이러한 RAID 모드에서는 RAID 0 구성보다 20-30% 더 적은 가용 IOPS를 제공합니다. 이러한 RAID 모드는 비용 증가의 한 요인이기도 합니다. 볼륨 크기와 속도가 동일할 경우 2 볼륨 RAID 0 어레이가 두 배 더 비싼 4 볼륨 RAID 6 어레이보다 더 우수한 성능을 제공합니다.
- RAID 1은 Amazon EBS와 함께 사용하지 않는 것이 좋습니다. RAID 1의 경우 데이터를 동시에 여러 볼륨에 쓰기 때문에 비 RAID 구성에 비해 Amazon EC2와 Amazon EBS 사이에 더 큰 대역폭이 필요합니다. 또한 RAID 1은 쓰기 성능 향상 효과를 제공하지 않습니다.

## Cloud HSM

- HSM(Hardware Security Module) 인스턴스를 사용함으로써 데이터 보안에 대한 기업, 계약 및 규제 준수 요구 사항을 충족하는 데 도움이 됩니다
- 독점적인 관리 아래에서 타사의 검증된 전용 하드웨어 보안 모듈에 키를 저장해야 하는 경우 AWS KMS를 통한 AWS CloudHSM 사용을 고려해야 합니다.
- AWS KMS는 AWS CloudHSM 클러스터에서 지원하는 사용자 지정 키 스토어를 지원합니다. 사용자 지정 키 스토어에서 AWS KMS key를 생성할 때 AWS KMS는 사용자가 보유하고 관리하는 AWS CloudHSM 클러스터에 추출이 불가능한 KMS 키용 키 구성 요소를 생성하여 저장합니다

## Resource Access Manager

- 리소스를 쉽고 안전하게 공유할 수 있는 서비스
- AWS Transit Gateway, 서브넷, AWS License Manager 구성 및 Amazon Route 53 Resolver 규칙 리소스를 RAM과 공유할 수 있습니다
- 중앙에서 리소스를 생성하고 RAM을 사용하여 리소스 공유 생성, 리소스 지정 및 계정 지정이라는 간단한 세 단계를 통해 계정 간에 해당 리소스를 공유할 수 있습니다. RAM은 추가 비용 없이 사용할 수 있습니다.

## 네트워크 전송 비용

1. 모든 AWS 리전의 모든 서비스 간 인바운드 데이터 전송에는 요금이 부과되지 않습니다. 단, AWS에서 인터넷으로의 아웃 바운드 데이터 전송 요금은 서비스당 부과되며, 각 비용은 리전에 따라 다릅니다.

AWS 내에서의 데이터 전송은 워크로드에서 다른 AWS 서비스로 전송되거나 워크로드의 다른 구성 요소 간에 전송될 수 있습니다. 각 워크로드가 AWS 서비스에 액세스할 때 경우에 따라, 데이터 전송 요금이 발생할 수 있습니다.

2. 동일 AWS 리전 내의 전송 요금

인터넷 게이트웨이로 AWS 서비스에 접근 하는 경우

인터넷 게이트웨이를 사용하여 같은 리전에 있는 AWS 서비스의 퍼블릭 엔드포인트에 액세스하는 경우 데이터 전송 요금이 부과되지 않습니다. NAT 게이트웨이를 사용하여 동일한 서비스에 액세스하는 경우 게이트웨이를 통과하는 데이터에 대해 데이터 처리 요금(기가바이트[GB] 당)이 부과됩니다.

다중 가용 영역의 서비스에 접근하는 경우

동일한 리전 내 동일 가용 영역(AZ) 내에서의 데이터 전송은 무료입니다. 다만, 워크로드의 고가용성을 달성하기 위해 다중 가용 영역을 쓰는 경우에 데이 전송 비용이 발생할 수 있습니다.

3. 다른 AWS 리전 사이 전송 요금

해당 워크로드가 다른 AWS 리전의 서비스에 액세스하는 경우, 리전 간 데이터 전송 요금이 부과됩니다.

리전 간 VPC 내부 통신을 하는 경우

워크로드 구성 요소가 VPC 피어링 연결 또는 Transit Gateway를 사용하여 여러 리전에서 통신하는 경우 추가 데이터 전송 요금이 부과됩니다. VPC가 리전 간에 피어링되는 경우, 표준 리전 간 데이터 전송 요금이 부과됩니다.

이 시나리오에서는 동일한 가용 영역에 모든 EC2 인스턴스를 배포해야 합니다. 동일한 가용 영역에서 Amazon EC2, Amazon RDS, Amazon Redshift, Amazon ElastiCache 인스턴스 및 Elastic Network Interface 간에 전송되는 데이터는 무료입니다. 퍼블릭 네트워크를 사용하여 데이터를 전송하는 대신 사설 네트워크를 사용하여 전체 데이터 전송 비용을 줄일 수 있습니다.

## 재해 복구(DR)

- 백업 및 복원 (Backup and Restore) : 몇시간
  - 데이터와 애플리케이션을 복구 리전에 백업합니다. 자동화된 백업 또는 지속적인 백업을 사용하면 특정 시점 복구가 가능하여 경우에 따라서는 RPO를 5분까지 줄일 수 있습니다. 재해 이벤트 시 인프라를 배포(RTO를 단축하기 위해 인프라를 코드로 사용하여)하고, 코드를 배포하고, 백업 데이터를 복원하여 복구 리전에서 재해로부터 복구합니다.
- 파일럿 라이트 (Pilot Light): 수십 분
  - 코어 워크로드의 인프라 복사본을 복구 리전에 프로비저닝합니다. 데이터를 복구 리전에 복제하고 복구 리전에서 백업을 생성합니다. 데이터베이스 및 객체 스토리지 등 데이터 복제 및 백업을 지원하는 데 필요한 리소스가 항상 실행됩니다
- 웜 스탠바이 (Warm Standby) : 몇 분
  - 축소된 버전의 워크로드를 복구 리전에 항상 실행되는 상태로 유지
- 다중 사이트 (Multi-Site): 실시간에 가까움
  - 워크로드가 여러 AWS 리전에 배포되고 능동적으로 트래픽을 처리합니다. 이 전략을 사용하려면 리전 전체에서 데이터를 동기화해야 합니다

## route53

- 온프레미스 네트워크에서 AWS VPC의 리소스에 대한 DNS 쿼리를 해결하려면 Route 53 Resolver에서 인바운드 엔드포인트를 생성하면 온프레미스 네트워크의 DNS 해석기가 이 엔드포인트를 통해 DNS 쿼리를 Route 53 Resolver로 전달할 수 있습니다.
- AWS VPC에서 온프레미스 네트워크의 리소스에 대한 DNS 쿼리를 확인하려면 Route 53 Resolver에서 아웃바운드 엔드포인트를 생성하면 Route 53 Resolver가 이 엔드포인트를 통해 온프레미스 네트워크의 확인자에게 쿼리를 조건부로 전달할 수 있습니다
- 액티브-액티브 / 액티브/패시브 장애조치를 구성할 수 있음
  - active-active : 모든 리소스를 대부분의 시간 동안 사용 가능하도록 하려면 이 장애 조치 구성을 사용하십시오. 리소스를 사용할 수 없는 경우 Route 53가 비정상 상태임을 판별하여 쿼리에 응답할 때 해당 리소스를 포함하지 않습니다.

액티브-액티브 장애 조치에서 동일한 이름, 동일한 유형(예: A 또는 AAAA) 및 동일한 라우팅 정책(예: 가중치 또는 지연 시간)을 보유한 모든 레코드는 Route 53가 이를 비정상으로 간주하지 않는 이상 활성 상태입니다. Route 53는 정상 레코드를 사용하여 DNS 쿼리에 응답할 수 있습니다.

## 임시 자격 증명

- 임시 자격 증명은 자격 증명 연동, 위임, 교차 계정 액세스 및 IAM 역할과 관련된 시나리오에서 유용합니다
- SSO(Single Sign-On) 기능도 설정해야 한다는 점을 고려하여 SAML 2.0 기반 페더레이션을 사용해야 합니다
- 자격 증명 공급자(IdP)를 사용하면 AWS 외부의 사용자 자격 증명을 관리할 수 있고 이 외부 사용자 자격 증명에 계정의 AWS 리소스에 대한 사용 권한을 부여할 수 있습니다
- IAM 자격 증명 공급자를 사용하면 사용자 지정 로그인 코드를 생성할 필요도, 고유한 사용자 자격 증명을 관리할 필요도 없습니다. IdP에서 이러한 작업을 대신 수행합니다
- AWS는 많은 자격 증명 공급자(IdP)가 사용하는 개방형 표준인 SAML 2.0(Security Assertion Markup Language 2.0)이라는 ID 페더레이션을 지원합니다
- 이 기능은 페더레이션 통합 인증(SSO)을 활성화하므로 조직의 모든 구성원에 대해 IAM 사용자를 생성하지 않아도 사용자가 AWS Management Console에 로그인하거나 AWS API 작업을 호출할 수 있습니다
- SAML을 사용함으로써 AWS로 연동을 구성하는 과정을 단순화할 수 있는데, 이는 사용자 지정 자격 증명 프록시 코드를 작성하는 대신 IdP의 서비스를 사용할 수 있기 때문입니다
- 사용 사례
  - 조직의 사용자 또는 애플리케이션이 AWS API 작업을 호출할 수 있도록 허용하는 페더레이션 액세스. 조직에서 생성되는 SAML 어설션(인증 응답의 일부)을 사용해 임시 보안 자격 증명을 얻습니다. 이 시나리오는 임시 보안 자격 증명 요청 및 웹 ID 페더레이션 정보에 기술된 것과 같이 IAM이 지원하는 다른 페더레이션 시나리오와 유사합니다. 그러나 조직의 SAML 2.0 기반 IdP가 인증 수행 및 권한 부여 확인을 위한 세부 사항을 런타임에 대부분 처리합니다.
  - 조직에서 AWS Management Console로 이루어지는 웹 기반 SSO(Single Sign-On). 사용자가 SAML 2.0 호환 IdP에서 호스트하는 조직의 포털에 로그인하고 AWS로 이동하는 옵션을 선택하면 추가 로그인 정보를 제공하지 않고도 콘솔에 리디렉션될 수 있습니다. 타사 SAML IdP를 사용하여 콘솔에 SSO 액세스하거나 사용자 지정 IdP를 만들어 외부 사용자의 콘솔 액세스를 허용할 수 있습니다.
- 엔터프라이즈 자격 증명 연동에서는 조직 네트워크의 사용자를 인증한 다음 새 AWS 자격 증명을 생성하고 별도의 사용자 이름과 암호로 로그인하도록 요구하지 않고 해당 사용자에게 AWS에 대한 액세스를 제공할 수 있습니다. 이를 임시 액세스에 대한 SSO(Single Sign-On) 접근 방식이라고 합니다.
- AWS STS는 Microsoft AD FS를 사용하여 Microsoft Active Directory를 활용할 수 있는 SAML(Security Assertion Markup Language) 2.0과 같은 개방형 표준을 지원합니다. SAML 2.0을 사용하여 사용자 ID 연합을 위한 자체 솔루션을 관리할 수도 있습니다.

## AWS Security Token Service(AWS STS)

- AWS 리소스에 대한 액세스를 제어할 수 있는 임시 보안 자격 증명을 생성하여 신뢰받는 사용자에게 제공할 수 있습니다
- 임시 보안 자격 증명은 다음과 같은 차이점을 제외하고는 IAM 사용자가 사용할 수 있는 장기 액세스 키 자격 증명과 거의 동일한 효력을 지닙니다
  - 임시 보안 자격 증명은 그 이름이 암시하듯 단기적입니다. 이 자격 증명은 몇 분에서 몇 시간까지 지속되도록 구성할 수 있습니다. 자격 증명이 만료된 후 AWS는 더는 그 자격 증명을 인식하지 못하거나 그 자격 증명을 사용한 API 요청으로부터 이루어지는 어떤 종류의 액세스도 허용하지 않습니다.
  - 임시 보안 자격 증명은 사용자와 함께 저장되지 않지만 동적으로 생성되어 요청시 사용자에게 제공됩니다. 임시 보안 자격 증명이 만료되었을 때(심지어는 만료 전이라도) 사용자는 새 자격 증명을 요청할 수 있습니다. 단, 자격 증명을 요청하는 해당 사용자에게 그렇게 할 수 있는 권한이 있어야 합니다.

## AWS SSO

- STS를 사용하지만 자체적으로 단기 자격 증명을 발급하지는 않습니다.
- AWS SSO(Single Sign-On)는 여러 AWS 계정 및 비즈니스 애플리케이션에 대한 SSO 액세스를 중앙에서 쉽게 관리할 수 있는 클라우드 SSO 서비스입니다.

## Lake Formation

- AWS Lake Formation은 안전한 데이터 레이크를 며칠 만에 손쉽게 설정할 수 있도록 지원하는 서비스입니다. 데이터 레이크는 큐레이팅된 안전한 중앙 집중식 리포지토리로, 모든 데이터를 원래 형식 및 분석에 필요한 형식으로 저장합니다. 데이터 레이크를 사용하면 데이터 사일로를 없애고 다양한 유형의 분석을 조합하여 인사이트를 얻을 수 있으며, 이를 바탕으로 더 나은 비즈니스 결정을 내릴 수 있습니다.
- 데이터 레이크를 설정하고 관리하기 위해서는 수많은 복잡하고 시간 소모적인 수작업이 필요합니다. 이러한 작업에는 다양한 소스로부터 데이터 로딩, 해당 데이터 흐름 모니터링, 파티션 설정, 암호화 설정 및 키 관리, 변환 작업 정의 및 운영 모니터링, 열 기반 형식으로 데이터 재구성, 중복 데이터 제거, 링크된 레코드 매칭 등이 포함됩니다. 데이터가 데이터 레이크에 로드되면, 세분화된 액세스 권한을 데이터 집합에 부여하고 넓은 범위의 분석 및 기계 학습(ML) 도구 및 서비스에 걸쳐 시간에 따른 액세스를 감사해야 합니다.
- Lake Formation으로 데이터 레이크를 생성하는 작업은 데이터 원본, 적용할 액세스 및 보안 정책을 정의하는 것 만큼이나 간단합니다. 그러면 Lake Formation이 데이터베이스 및 객체 스토리지의 데이터를 수집하고 카탈로그화한 후, 새로운 Amazon Simple Storage Service(S3) 데이터 레이크로 옮긴 다음, 기계 학습 알고리즘을 사용해 정리 및 분류하고, 열, 행, 셀 수준에서의 세분화된 제어를 사용해 민감한 데이터에 대한 액세스를 보호하도록 지원합니다. 이 과정이 마무리되면 사용자는 사용 가능한 데이터 세트 및 적절한 사용 방법이 설명된 중앙 집중식 데이터 카탈로그에 액세스할 수 있습니다. 그러면 Amazon Redshift, Amazon Athena, Amazon EMR for Apache Spark, Amazon QuickSight 등 선택한 분석 및 기계 학습 서비스에서 이러한 데이터 세트를 사용할 수 있습니다. Lake Formation은 AWS Glue에서 제공되는 기능을 기반으로 합니다.
- Lake Formation은 데이터에 액세스하는 모든 사용자 및 서비스에 대해 테이블, 열, 행, 셀 수준에서 운영되는 액세스 제어를 정의하고 적용할 수 있는 단일 장소를 제공합니다. 정책은 일관되게 구현되므로 보안 서비스(예: AWS Identity and Access Management(IAM) 및 AWS Key Management Service(KMS)), 스토리지 서비스(예: S3), 분석 및 기계 학습 서비스(예: Redshift, Athena, AWS Glue 및 EMR for Apache Spark) 등에서 수동으로 구성할 필요가 없습니다. 이를 통해 서비스 간에 정책을 구성하는 노력을 줄이고 일관된 시행 및 준수를 제공합니다.

## Aurora Mysql

- 저장 프로시저를 사용하여 AWS Lambda 함수를 호출할 수 있습니다
- Aurora MySQL 네이티브 함수를 사용할 것을 적극 권장합니다
- 목록이 데이터베이스에서 삭제될 때마다 Lambda 함수를 트리거할 수 있습니다
- 데이터를 SQS 대기열로 보내고 다른 프로세스에서 이를 사용하도록 함수의 논리를 작성할 수 있습니다

## Amazon Athena

- 표준 SQL을 사용하여 Amazon S3(Amazon Simple Storage Service)에 있는 데이터를 직접 간편하게 분석할 수 있는 대화형 쿼리 서비스
- Amazon S3에 저장된 데이터를 지정하고 표준 SQL을 사용하여 임시 쿼리를 실행하여 몇 초 안에 결과를 얻을 수 있습니다
- 서버리스 서비스이므로 설정하거나 관리할 인프라가 없으며 실행한 쿼리에 대해서만 비용을 지불하면 됩니다
- Athena는 자동으로 확장되어 쿼리를 병렬로 실행하여 대규모 데이터 집합과 복잡한 쿼리에서도 빠르게 결과를 얻을 수 있습니다

## AWS SWF

- 분산된 구성 요소 간에 작업을 조정하는 애플리케이션을 쉽게 구축할 수 있습니다
- 작업은 애플리케이션의 구성 요소가 수행하는 논리적 작업 단위입니다. 애플리케이션 간 작업 조정에서는 애플리케이션의 논리적 흐름에 따라 작업 간 종속성, 일정 예약 및 동시성을 관리합니다.
- 진행 상황을 추적하고 상태를 유지 관리하는 것과 같이 기저의 복잡한 문제에 대한 염려 없이 구현 작업과 조정을 완벽하게 제어할 수 있습니다.

- 사용할 때는 작업을 수행할 작업자를 구현합니다. 이러한 작업자를 Amazon Elastic Compute Cloud (Amazon EC2) 와 같은 클라우드 인프라나 온-프레미스 인프라에서 실행할 수 있습니다. 장기 실행 또는 실패, 시간 초과 또는 다시 시작이 필요할 수 있는 작업 또는 다양한 처리량 및 지연 시간으로 완료될 수 있는 작업을 만들 수 있습니다.
- 작업을 저장하고 작업이 준비되면 작업자에게 할당하고, 진행 상황을 추적하고, 완료에 대한 세부 정보를 포함하여 상태를 유지합니다. 작업을 조정하려면 Amazon SWF에서 각 작업의 최신 상태를 가져온 다음 이 정보를 사용해 후속 작업을 시작하는 프로그램을 작성합니다. Amazon SWF는 개별 구성 요소에서 장애가 발생하더라도 애플리케이션이 쉽게 복구되도록 애플리케이션 실행 상태의 내구성을 유지합니다. Amazon SWF 사용하면 이러한 애플리케이션 구성 요소를 독립적으로 구현, 배포, 확장 및 수정할 수 있습니다.

## S3 class 전환

- 비용절감을 위한 규칙정의

S3 Standard -> S3 IA -> S3 Intelligent-Tiering -> S3 One-zone IA -> S3 Glacier Instance Retrival -> S3 Glacier Flexible Retrival -> S3 Deep Archive

## AWS Proton

- 효율성, 일관성 및 제어가 향상된 모든 서버리스 또는 컨테이너 기반 애플리케이션을 배포할 수 있습니다.
- 조직을 위한 인프라 표준과 효과적인 지속적 전달 파이프라인을 정의할 수 있습니다.
- 인프라를 환경과 서비스("코드로서의 인프라" 템플릿)로 나눕니다
- 서비스 인스턴스에서 애플리케이션을 배포하고 관리하는 서비스를 생성하는 데 사용하는 표준화된 서비스 템플릿을 선택합니다.
- 일반적으로 여러 서비스 인스턴스와 파이프라인을 포함하는 서비스 템플릿의 인스턴스화입니다.

AWS Proton은 다음과 같은 역할을 할 수 있습니다.

1. 서버리스 및 컨테이너 기반 애플리케이션의 코드 프로비저닝 및 배포로서의 자동화된 인프라
2. 표준화된 인프라
3. CI/CD와 통합된 배포

- AWS Proton에서 관리자는 개발 팀과 애플리케이션 전반에서 사용되는 표준 인프라를 정의합니다. 그러나 개발 팀은 Amazon Simple Queue Service(Amazon SQS) 대기열 또는 Amazon DynamoDB 테이블과 같은 특정 사용 사례에 대해 추가 리소스를 포함해야 할 수 있습니다. 이러한 애플리케이션별 리소스는 특히 초기 애플리케이션 개발 중에 자주 변경될 수 있습니다. 관리자가 작성한 템플릿에서 이러한 빈번한 변경 사항을 유지 관리하는 것은 관리 및 확장이 어려울 수 있습니다. 관리자는 실제 관리자의 부가 가치 없이 더 많은 템플릿을 유지 관리해야 합니다. 애플리케이션 개발자가 애플리케이션용 템플릿을 작성하도록 하는 대안은 이상적이지 않습니다.

구성 요소를 사용하여 개발자는 관리자가 환경 및 서비스 템플릿에 정의한 것 이상으로 추가 리소스를 애플리케이션에 추가할 수 있습니다. 그런 다음 개발자는 구성 요소를 서비스 인스턴스에 연결합니다. AWS Proton은 환경 및 서비스 인스턴스에 대한 리소스를 프로비저닝하는 것처럼 구성 요소에서 정의한 인프라 리소스를 프로비저닝합니다.

## Schema Conversion Tool

- 소스 스키마와 코드를 대상 데이터베이스와 일치하도록 변환한 다음 AWS Database Migration Service를 사용하여 소스 데이터베이스에서 대상 데이터베이스로 데이터를 마이그레이션합니다.
- 필요한 모든 데이터 유형 변환은 마이그레이션 중에 AWS Database Migration Service에서 자동으로 수행됩니다. 소스 데이터베이스는 Amazon EC2 인스턴스에서 실행되는 AWS 외부의 온프레미스 환경에 있거나 Amazon RDS 데이터베이스일 수 있습니다. 대상은 Amazon EC2 또는 Amazon RDS의 데이터베이스일 수 있습니다

## 스팟 인스턴스 (spot instnace)

- 요청 유형(일회성 또는 영구적)에 따라 Amazon EC2가 스팟 인스턴스를 중단할 때 또는 사용자가 스팟 인스턴스를 중지하는 경우 요청이 다시 열리는지 여부가 결정됩니다. 요청이 영구적인 경우 스팟 인스턴스가 중단된 후 요청이 다시 열립니다. 요청이 영구적이고 사용자가 스팟 인스턴스를 중지하는 경우 스팟 인스턴스를 시작한 후에만 요청이 열립니다.
